{"version":3,"sources":["app.js"],"names":["pagina","cita","nombre","fecha","hora","servicios","document","addEventListener","iniciarApp","mostrarSeccion","cambiarSeccion","paginaSiguiente","paginaAnterior","paginador","mostrarResumen","nombreCita","fechaCita","deshabilitarFechaAnterior","horaCita","mostrarServicios","seccionAnterior","querySelector","classList","remove","add","tabAnterior","querySelectorAll","forEach","enlace","e","preventDefault","parseInt","target","dataset","paso","async","url","resultado","fetch","json","servicio","id","precio","nombreServicio","createElement","textContent","precioServicio","divServicio","idServicio","onclick","seleccionarServicio","appendChild","error","console","log","elemento","tagName","parentElement","contains","eliminarServicio","agregarServicio","firstElementChild","nextElementSibling","filter","servicioObj","divResumen","firstChild","removeChild","Object","values","includes","noServicios","headingCita","innerHTML","serviciosCita","headingServicios","cantidad","contenedorServicio","textoServicio","totalServicio","split","trim","cantidadPagar","nombreTexto","value","length","mostrarAlerta","alerta","mensaje","tipo","setTimeout","fechaInput","dia","Date","getUTCDay","inputFecha","fechaActual","year","getFullYear","mes","getMonth","getDate","fechaDeshabilitar","min","inputHora"],"mappings":"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","file":"bundle.js","sourcesContent":["//Variables globales\r\nlet pagina = 1;\r\n\r\nconst cita = {\r\n\tnombre: '',\r\n\tfecha: '',\r\n\thora: '',\r\n\tservicios: [],\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n\tiniciarApp();\r\n\r\n\t// Resalta el Div actual según el tab al que se presiona.\r\n\tmostrarSeccion();\r\n\r\n\t// Oculta o muestra una sección según el tab al que se presiona.\r\n\tcambiarSeccion();\r\n\r\n\t//Paginación siguiente\r\n\tpaginaSiguiente();\r\n\r\n\t//Paginación y anterior\r\n\tpaginaAnterior();\r\n\r\n\t//paginación entre 1 al 3\r\n\tpaginador();\r\n\r\n\t//Muestra el resumen de la cita (o mensaje de error en caso de no pasar la validación)\r\n\tmostrarResumen();\r\n\r\n\t//Almacena el nombre de la cita en el objeto\r\n\tnombreCita();\r\n\r\n\t//Almacena la fecha de la cita en el objeto\r\n\tfechaCita();\r\n\r\n\t//Desahabilita dias pasados\r\n\tdeshabilitarFechaAnterior();\r\n\r\n\t//Almacena la hora de la cita en el objeto\r\n\thoraCita();\r\n});\r\n\r\nconst iniciarApp = () => mostrarServicios();\r\n\r\nfunction mostrarSeccion() {\r\n\t//Eliminar mostrar-seccion de la sección anterior\r\n\tconst seccionAnterior = document.querySelector('.mostrar-seccion');\r\n\tif (seccionAnterior) {\r\n\t\tseccionAnterior.classList.remove('mostrar-seccion');\r\n\t}\r\n\r\n\tconst seccionActual = document.querySelector(`#paso-${pagina}`);\r\n\tseccionActual.classList.add('mostrar-seccion');\r\n\r\n\t//Eliminar la clase de actual en el tab anterior\r\n\tconst tabAnterior = document.querySelector('.tabs .actual');\r\n\tif (tabAnterior) {\r\n\t\ttabAnterior.classList.remove('actual');\r\n\t}\r\n\r\n\t// Resaltar el tab actual\r\n\tconst tab = document.querySelector(`[data-paso=\"${pagina}\"]`); //? Obtiene el id del boton actual\r\n\ttab.classList.add('actual');\r\n}\r\n\r\nfunction cambiarSeccion() {\r\n\tconst enlaces = document.querySelectorAll('.tabs button');\r\n\r\n\tenlaces.forEach((enlace) => {\r\n\t\tenlace.addEventListener('click', (e) => {\r\n\t\t\te.preventDefault();\r\n\t\t\tpagina = parseInt(e.target.dataset.paso);\r\n\r\n\t\t\tmostrarSeccion();\r\n\r\n\t\t\tpaginador();\r\n\t\t});\r\n\t});\r\n}\r\n\r\nasync function mostrarServicios() {\r\n\ttry {\r\n\t\tconst url = \"http://localhost/CursoWeb-JP/BarberShop/servicios.php\";\r\n\r\n\t\tconst resultado = await fetch(url);\r\n\t\tconst db = await resultado.json();\r\n\r\n\t\t//* Generar el HTML\r\n\t\tdb.forEach((servicio) => {\r\n\t\t\tconst { id, nombre, precio } = servicio;\r\n\r\n\t\t\t//* DOM Scripting\r\n\t\t\t//Generar nombre del servicio\r\n\t\t\tconst nombreServicio = document.createElement('P');\r\n\t\t\tnombreServicio.textContent = nombre;\r\n\t\t\tnombreServicio.classList.add('nombre-servicio');\r\n\r\n\t\t\t//Generar precio del servicio\r\n\t\t\tconst precioServicio = document.createElement('P');\r\n\t\t\tprecioServicio.textContent = `$ ${precio} USD`;\r\n\t\t\tprecioServicio.classList.add('precio-servicio');\r\n\r\n\t\t\t//Generar el contenedor para el servicio\r\n\t\t\tconst divServicio = document.createElement('DIV');\r\n\t\t\tdivServicio.classList.add('servicio');\r\n\t\t\tdivServicio.dataset.idServicio = id; //? Agrega un atributo personalizado para el id\r\n\r\n\t\t\t//Selecciona un servicio para la cita\r\n\t\t\tdivServicio.onclick = seleccionarServicio;\r\n\r\n\t\t\t//Inyectar precio y nombre al div de servicio\r\n\t\t\tdivServicio.appendChild(nombreServicio);\r\n\t\t\tdivServicio.appendChild(precioServicio);\r\n\r\n\t\t\t//Inyectarlo en el HTML\r\n\t\t\tdocument.querySelector('#servicios').appendChild(divServicio);\r\n\r\n\t\t\t// console.log(divServicio);\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n}\r\n\r\nfunction seleccionarServicio(e) {\r\n\t//Forzar que el elemento al cual le damos click sea el DIV\r\n\tlet elemento;\r\n\r\n\tif (e.target.tagName === 'P') {\r\n\t\t//captura el evento en el elemento en el que se haga click\r\n\t\telemento = e.target.parentElement;\r\n\t} else {\r\n\t\t//captura el evento en el elemento en el que se haga click\r\n\t\telemento = e.target;\r\n\t}\r\n\r\n\t//comprueba si existe un elemento que contenga la clase .seleccionado\r\n\tif (elemento.classList.contains('seleccionado')) {\r\n\t\telemento.classList.remove('seleccionado');\r\n\r\n\t\tconst id = parseInt(elemento.dataset.idServicio);\r\n\r\n\t\teliminarServicio(id);\r\n\t} else {\r\n\t\telemento.classList.add('seleccionado');\r\n\r\n\t\tconst servicioObj = {\r\n\t\t\tid: parseInt(elemento.dataset.idServicio),\r\n\t\t\tnombre: elemento.firstElementChild.textContent,\r\n\t\t\tprecio: elemento.firstElementChild.nextElementSibling.textContent,\r\n\t\t};\r\n\r\n\t\tagregarServicio(servicioObj);\r\n\t\t// console.log(servicioObj);\r\n\t}\r\n}\r\n\r\nfunction eliminarServicio(id) {\r\n\tconst { servicios } = cita;\r\n\tcita.servicios = servicios.filter((servicio) => servicio.id !== id);\r\n\r\n\tconsole.log(cita);\r\n}\r\n\r\nfunction agregarServicio(servicioObj) {\r\n\tconst { servicios } = cita;\r\n\tcita.servicios = [...servicios, servicioObj];\r\n\r\n\tconsole.log(cita);\r\n}\r\n\r\nfunction paginaSiguiente() {\r\n\tconst paginaSiguiente = document.querySelector('#siguiente');\r\n\tpaginaSiguiente.addEventListener('click', () => {\r\n\t\tpagina++;\r\n\r\n\t\tconsole.log(pagina);\r\n\r\n\t\tpaginador();\r\n\t});\r\n}\r\n\r\nfunction paginaAnterior() {\r\n\tconst paginaAnterior = document.querySelector('#anterior');\r\n\tpaginaAnterior.addEventListener('click', () => {\r\n\t\tpagina--;\r\n\r\n\t\tconsole.log(pagina);\r\n\r\n\t\tpaginador();\r\n\t});\r\n}\r\n\r\nfunction paginador() {\r\n\tconst paginaSiguiente = document.querySelector('#siguiente');\r\n\tconst paginaAnterior = document.querySelector('#anterior');\r\n\r\n\tif (pagina === 1) {\r\n\t\tpaginaAnterior.classList.add('ocultar');\r\n\t} else if (pagina === 3) {\r\n\t\tpaginaSiguiente.classList.add('ocultar');\r\n\t\tpaginaAnterior.classList.remove('ocultar');\r\n\r\n\t\tmostrarResumen(); //Página 3, en la página que carga el resumen de la cita.\r\n\t} else {\r\n\t\tpaginaAnterior.classList.remove('ocultar');\r\n\t\tpaginaSiguiente.classList.remove('ocultar');\r\n\t}\r\n\r\n\tmostrarSeccion();\r\n}\r\n\r\nfunction mostrarResumen() {\r\n\t//Destructuring\r\n\tconst { nombre, fecha, hora, servicios } = cita;\r\n\r\n\t//Seleccionar el resumen\r\n\tconst divResumen = document.querySelector('.contenido-resumen');\r\n\r\n\t//limpiar el HTML previo (de manera eficiente)\r\n\twhile (divResumen.firstChild) {\r\n\t\tdivResumen.removeChild(divResumen.firstChild);\r\n\t}\r\n\r\n\t//Validacion de objeto\r\n\tif (Object.values(cita).includes('')) {\r\n\t\tconst noServicios = document.createElement('P');\r\n\t\tnoServicios.textContent = 'Data from name, date or time is missing';\r\n\t\tnoServicios.classList.add('invalidar-cita');\r\n\r\n\t\t//Agregar a divResumen\r\n\t\tdivResumen.appendChild(noServicios);\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst headingCita = document.createElement('H3');\r\n\theadingCita.textContent = 'appointment summary';\r\n\r\n\t//  Mostrar el resumen\r\n\tconst nombreCita = document.createElement('P');\r\n\tnombreCita.innerHTML = `<span>Name:</span> ${nombre}`;\r\n\r\n\tconst fechaCita = document.createElement('P');\r\n\tfechaCita.innerHTML = `<span>Date:</span> ${fecha}`;\r\n\r\n\tconst horaCita = document.createElement('P');\r\n\thoraCita.innerHTML = `<span>Time:</span> ${hora}`;\r\n\r\n\tconst serviciosCita = document.createElement('DIV');\r\n\tserviciosCita.classList.add('resumen-servicios');\r\n\r\n\t//\r\n\tconst headingServicios = document.createElement('H3');\r\n\theadingServicios.textContent = 'Services summary';\r\n\r\n\tserviciosCita.appendChild(headingServicios);\r\n\r\n\tlet cantidad = 0;\r\n\r\n\t//Iterar sobre el arreglo de servicios\r\n\tservicios.forEach((servicio) => {\r\n\t\tconst { nombre, precio } = servicio;\r\n\t\tconst contenedorServicio = document.createElement('DIV');\r\n\t\tcontenedorServicio.classList.add('contenedor-servicio');\r\n\r\n\t\tconst textoServicio = document.createElement('P');\r\n\t\ttextoServicio.textContent = nombre;\r\n\r\n\t\tconst precioServicio = document.createElement('P');\r\n\t\tprecioServicio.textContent = precio;\r\n\t\tprecioServicio.classList.add('precio');\r\n\r\n\t\tconst totalServicio = precio.split('$')\r\n\t\t// console.log(parseInt(totalServicio[1].trim()));\r\n\r\n\t\tcantidad += parseInt(totalServicio[1].trim());\r\n\r\n\t\t//Colocar un texto y precio en el div\r\n\t\tcontenedorServicio.appendChild(textoServicio);\r\n\t\tcontenedorServicio.appendChild(precioServicio);\r\n\r\n\t\tserviciosCita.appendChild(contenedorServicio);\r\n\t});\r\n\r\n\t//resumen\r\n\r\n\tdivResumen.appendChild(headingCita);\r\n\tdivResumen.appendChild(nombreCita);\r\n\tdivResumen.appendChild(fechaCita);\r\n\tdivResumen.appendChild(horaCita);\r\n\r\n\tdivResumen.appendChild(serviciosCita);\r\n\r\n\tconst cantidadPagar = document.createElement('P');\r\n\tcantidadPagar.classList.add('total');\r\n\tcantidadPagar.innerHTML = `<span>Final bill: </span> $ ${cantidad}`;\r\n\r\n\tdivResumen.appendChild(cantidadPagar)\r\n}\r\n\r\nfunction nombreCita() {\r\n\tconst nombreInput = document.querySelector('#nombre');\r\n\r\n\tnombreInput.addEventListener('input', (e) => {\r\n\t\tconst nombreTexto = e.target.value.trim();\r\n\r\n\t\t//Validacion nombre texto vacio\r\n\t\tif (nombreTexto === '' || nombreTexto.length < 2) {\r\n\t\t\tmostrarAlerta('Invalid name', 'error');\r\n\t\t} else {\r\n\t\t\tconst alerta = document.querySelector('.alerta');\r\n\t\t\tif (alerta) {\r\n\t\t\t\talerta.remove();\r\n\t\t\t}\r\n\t\t}\r\n\t\tcita.nombre = nombreTexto;\r\n\t});\r\n}\r\n\r\nfunction mostrarAlerta(mensaje, tipo) {\r\n\t//Si hay una alerta previa, entonces no crear otra\r\n\tconst alertaPrevia = document.querySelector('.alerta');\r\n\tif (alertaPrevia) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst alerta = document.createElement('DIV');\r\n\talerta.textContent = mensaje;\r\n\talerta.classList.add('alerta');\r\n\r\n\tif (tipo === 'error') {\r\n\t\talerta.classList.add('error');\r\n\t}\r\n\r\n\tconsole.log(alerta);\r\n\r\n\t// Insertar en el HTML\r\n\tconst formulario = document.querySelector('.formulario');\r\n\tformulario.appendChild(alerta);\r\n\r\n\t//Eliminar la alerta despues de 3 segundos\r\n\tsetTimeout(() => {\r\n\t\talerta.remove();\r\n\t}, 3000);\r\n}\r\n\r\nfunction fechaCita() {\r\n\tconst fechaInput = document.querySelector('#fecha');\r\n\tfechaInput.addEventListener('input', (e) => {\r\n\t\t//obtener fecha en formato de dia\r\n\t\tconst dia = new Date(e.target.value).getUTCDay();\r\n\r\n\t\t//Obtener el número del día del 0 (domingo) al 6 (sabado)\r\n\t\tif ([0].includes(dia)) {\r\n\t\t\t//Hace que los domingos sean dias no validos\r\n\t\t\te.preventDefault();\r\n\t\t\tfechaInput.value = '';\r\n\t\t\tmostrarAlerta(\"We're not working on sundays :(\", 'error');\r\n\t\t} else {\r\n\t\t\t//Si si es valido asigna la fecha seleccionada al objeto\r\n\t\t\tcita.fecha = fechaInput.value;\r\n\t\t\tconsole.log(cita);\r\n\t\t}\r\n\r\n\t\t// console.log(dia);\r\n\t});\r\n}\r\n\r\nfunction deshabilitarFechaAnterior() {\r\n\tconst inputFecha = document.querySelector('#fecha');\r\n\r\n\tconst fechaActual = new Date();\r\n\tconst year = fechaActual.getFullYear();\r\n\tlet mes = fechaActual.getMonth() + 1; //los meses en JS empiezan desde el 0\r\n\tlet dia = fechaActual.getDate(); //ese +1 por si se debe apartar con un día de anticipacion\r\n\r\n\t// const fechaDeshabilitar = `${year}-${mes}-${dia}`;\r\n\r\n\tconst fechaDeshabilitar =\r\n\t\tmes < 10 ? `${year}-0${mes}-${dia}` : dia < 10 ? `${year}-${mes}-0${dia}` : `${year}-${mes}-${dia}`;\r\n\r\n\tconsole.log(fechaDeshabilitar);\r\n\r\n\tinputFecha.min = fechaDeshabilitar;\r\n}\r\n\r\nfunction horaCita() {\r\n\tconst inputHora = document.querySelector('#hora');\r\n\tinputHora.addEventListener('input', (e) => {\r\n\t\tconst horaCita = e.target.value;\r\n\t\tconst hora = horaCita.split(':');\r\n\r\n\t\tif (hora[0] < 13 || hora[0] > 20) {\r\n\t\t\tmostrarAlerta('It is closed at that time :(', 'error');\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tinputHora.value = '';\r\n\t\t\t}, 3000);\r\n\t\t} else {\r\n\t\t\tcita.hora = horaCita;\r\n\t\t}\r\n\t});\r\n}\r\n"]}